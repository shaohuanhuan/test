<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>用canvas 元素制造美丽的花朵</title>

</head>
<body>
  <h1>用canvas 元素制造美丽的花朵</h1>
  花的类型：
  <select name="" id="drawType">
    <option value="1">蓬莱菊</option>
    <option value="2">令箭荷花</option>
    <option value="3">大丽花</option>
  </select>
  <input type="button" id="btn" value="绘制" onclick="flow()"/><br/>
  <canvas id="canvas" width="200px" height="200px"></canvas>
  <script type="text/javascript">
    var context;
    var A , n;
    function flow(){
      var width;
      var height;
      var canvas;
      var Xo,Yo;
      var k;
      canvas=document.getElementById('canvas');
      width=canvas.width;
      height=canvas.height;
      context=canvas.getContext('2d');
      Xo=width/2;
      Yo=height/2;
      k=parseInt(document.getElementById('drawType').value);
      if (k==2) {
        A=Yo*0.25;
      }else{
        A=Yo*0.75;
      };
      context.save();
      context.clearRect(0,0,width,height);
      context.translate(Xo,Yo);
      context.beginPath();
      for (var B = 0; B <= 6.28; B=B+0.01) {
        draw(B);
      }
      context.closePath();
      context.restore();
    }
    function draw(B){
      var n=10;
      switch(parseInt(document.getElementById("drawType").value)){
        case 3:
              r=A*Math.sin(n*B)*Math.exp(-B/(20));
              break
        case 2:
              r=A*(Math.sin(n*B)+3*Math.sin(3*n*B))
              break
        case 1:
              r=A*(Math.sin(n*B))
              break
      }
      x=r*Math.cos(B);
      y=r*Math.sin(B);

      context.fillStyle="green";
      context.strokeStyl="black";
      context.lineTo(-x,-y);
      context.fill();
      context.stroke();
    }
  </script>
</body>
</html>
