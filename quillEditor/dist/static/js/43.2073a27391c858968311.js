webpackJsonp([43],{333:function(t,e,n){n(902);var i=n(89)(n(554),n(815),null,null);i.options.__file="/Users/JU53/Documents/website/b2b4.0/b2b-seller4.0/src/views/order/Order.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),i.options.functional,t.exports=i.exports},554:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(95),a=n.n(i),s=n(96);e.default={name:"Order",props:{},data:function(){return{pageIndex:1,pageSize:10,total:0,status:["待付款","待发货","已发货","交易成功","交易关闭","待评价"],backstatus:["","部分退款","全部退款"],activeName:"all",search:{period:"",refundTag:"",type:"0",keys:"",time:"time"}}},components:{},methods:{pager:function(t){this.pageIndex=t,this.searchForm(t)},tabSearch:function(t,e){var n=this.activeName,i="";switch(n){case"waitpay":i=0;break;case"waitsend":i=1;break;case"send":i=2;break;case"success":i=3;break;case"close":i=4}this.search.orderStatus=i,this.searchForm()},fresh:function(){location.reload()},doDetail:function(t){this.$router.push({path:"/orderDetail/"+t})},searchForm:function(t){this.search.period&&this.search.period[0]&&(this.search.createTimeStart=this.changeDate(this.search.period[0]),this.search.createTimeEnd=this.changeDate(this.search.period[1])),"0"===this.search.type?this.search.productName=this.search.keys:this.search.orderCode=this.search.keys,isNaN(t)&&(t=1);var e=a()(this.search,{page:t});this.$store.dispatch("getOrderList",e)},changeDate:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()<9?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()},showLogist:function(t){t&&this.$store.dispatch("getLogistList",{expressNo:t})}},watch:{},computed:n.i(s.b)({orders:"orderList",logisList:"logisList",loading:"loading"}),created:function(){var t={page:this.pageIndex};this.$store.commit("PROD_LOAD",{loading:!0}),this.$store.dispatch("getOrderList",t)}}},625:function(t,e,n){e=t.exports=n(49)(),e.push([t.i,"/*@import '../../assets/style/list.less';*/\n.double-tab {\n  position: relative;\n}\n.double-tab li {\n  width: 100%;\n  height: auto;\n  border-bottom: 1px solid #dfe3eb;\n}\n.double-tab .double-td .btn-blue.el-button,\n.double-tab .double-td .btn-trans.el-button {\n  margin: 0 auto;\n  display: block;\n}\n.double-tab .double-td .el-button:nth-child(1) {\n  margin-bottom: 8px;\n}\n.double-column {\n  height: auto;\n}\n.double-th {\n  margin-top: 16px;\n  height: 36px;\n  line-height: 36px;\n  padding-left: 40px;\n  border-top: 1px solid #e3e6ed;\n  background-color: #F5F8FA;\n}\n.double-td {\n  width: 10%;\n  float: left;\n  padding-top: 16px;\n  font-size: 13px;\n  border-right: 1px solid #dfe3eb;\n  background-color: #fff;\n  text-align: center;\n  box-sizing: border-box;\n}\n.double-td p {\n  line-height: 22px;\n}\n.double-td .tit {\n  display: inline-block;\n  margin-right: 2%;\n  padding-right: 5px;\n  width: 78%;\n  line-height: 18px;\n  vertical-align: top;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.double-span-item {\n  position: relative;\n  width: 50%;\n  border-left: 1px solid #dfe3eb;\n  text-align: left;\n}\n.double-span-item img {\n  position: absolute;\n  left: 20px;\n}\n.double-span-item .double-item {\n  padding: 0 0 2px 99px;\n  height: 78px;\n  box-sizing: border-box;\n}\n.double-span-item .bortop {\n  padding-top: 16px;\n  height: 96px;\n  border-top: 1px solid #dfe3eb;\n}\n.status-td p {\n  line-height: 16px;\n}\n.double-one {\n  margin-bottom: 16px;\n  white-space: normal;\n}\n.double-two {\n  font-size: 12px;\n  color: #7C98B6;\n}\n.sub-tip {\n  color: #7C98B6;\n}\n.double-header {\n  border-top: 1px solid #dfe3eb;\n}\n.double-header .double-td {\n  height: 44px;\n  line-height: 44px;\n  padding-top: 0;\n  border-right: 0;\n  background-color: #F5F8FA;\n  font-weight: bold;\n}\n.double-header .double-span-item {\n  padding-left: 50px;\n}\n.input-sel-search {\n  width: 310px;\n}\n.input-sel-search * {\n  border-color: #CBD6E3;\n}\n.input-sel-search .el-select {\n  width: 100px;\n}\n.input-sel-search .el-select .el-input__inner {\n  width: 100px;\n}\n.input-sel-search .el-input-group__prepend {\n  background-color: transparent;\n  border-right: 0;\n}\n.input-sel-search .el-input__inner {\n  width: 162px;\n  border-left: 0;\n}\n.input-sel-search .el-input {\n  color: #333;\n}\n.input-sel-search .input-split {\n  position: absolute;\n  left: 100px;\n  top: 0;\n}\n.input-split {\n  display: inline-block;\n  width: 0;\n  height: 17px;\n  border: 0;\n  border-left: 1px solid #cbd6e3;\n}\n.time-sel {\n  display: inline-block;\n  position: relative;\n  width: 321px;\n  border: 1px solid #cbd6e3;\n  border-radius: 4px;\n  vertical-align: middle;\n}\n.time-sel .select-keyword {\n  position: absolute;\n  left: 0;\n  width: 100px;\n  border: 0;\n}\n.time-sel .select-keyword .el-input__inner {\n  height: 31px;\n  border: 0;\n}\n.time-sel .select-keyword .el-input__inner:hover,\n.time-sel .select-keyword .el-input__inner:focus {\n  border: 0;\n  box-shadow: none;\n}\n.time-sel .select-time {\n  padding-left: 105px;\n  height: 34px;\n  line-height: 34px;\n}\n.time-sel .select-time .el-date-editor--daterange.el-input {\n  margin-top: -20px;\n  width: 210px;\n  vertical-align: middle;\n}\n.time-sel .select-time .el-date-editor .el-picker-panel {\n  width: 500px!important;\n}\n.time-sel .select-time .el-input__inner {\n  height: 31px;\n  border: 0;\n  border-radius: 0;\n}\n.time-sel .select-time .el-input__inner:hover,\n.time-sel .select-time .el-input__inner:focus {\n  border: 0;\n  box-shadow: none;\n}\n.search-box {\n  position: relative;\n  margin-bottom: 5px;\n  padding: 10px;\n  border-bottom: 2px solid #eaf0f6;\n}\n.search-box * {\n  font-size: 13px;\n}\n.search-box .right-module {\n  position: absolute;\n  right: 0;\n  top: 10px;\n  margin: 0;\n  width: 540px;\n}\n@-moz-document url-prefix() {\n.search-box * {\n    vertical-align: middle;\n}\n.search-box .time-sel .select-time .el-input__inner {\n    margin-bottom: -15px;\n}\n}\n.select-keyword {\n  height: 35px;\n  line-height: 35px;\n  padding-left: 5px;\n  color: #33475B;\n  border: 1px solid #cbd6e3;\n  outline: none;\n}\n.el-tabs__nav-prev {\n  display: none;\n}\n.modprice-info {\n  margin-top: 10px;\n  padding-left: 20px;\n}\n.modprice-info p {\n  line-height: 48px;\n  color: #33475B;\n  font-size: 13px;\n}\n.modprice-info .tips76 {\n  margin-top: -28px;\n  color: #7D98B6;\n  font-size: 12px;\n}\n.modprice-info .ui-logist {\n  width: 22%;\n}\n.modprice-info .el-select {\n  width: 20%;\n}\n.el-select + label,\n.el-input + label {\n  margin-left: 15px;\n}\n.el-popover {\n  text-align: center;\n}\n.el-popover .icon-smile {\n  display: block;\n  margin: 15px auto;\n  width: 30px;\n  color: #B0C1D3;\n  font-size: 32px;\n}\n.el-popover .no-logist {\n  margin: 21px 0;\n  color: #33475B;\n  font-size: 13px;\n}\n.logist-item {\n  position: relative;\n  padding-left: 200px;\n  height: 50px;\n  color: #33475B;\n  text-align: left;\n}\n.logist-item .date {\n  position: absolute;\n  left: 50px;\n  top: 2px;\n  width: 150px;\n}\n.logist-item i {\n  margin-left: 10px;\n  display: inline-block;\n  color: #90a7c1;\n}\n.logist-item span {\n  line-height: 16px;\n}\n.logist-list {\n  margin: 20px;\n}\n.fly-line {\n  position: absolute;\n  left: 30px;\n  top: 33px;\n  height: 88%;\n  width: 20px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAABtBAMAAABaYfxNAAAAGFBMVEX///+wwdPV3ui4yNjE0d7g5+60xNb4+fsuyMmZAAAAWElEQVQoz2OgHmAyVoAwFAWFIAxDQWEEAyGFUIwJRt0z6p5B4h7yAKtbSgCIZncUFBQpADJYBIHAAcgIBDFEgQygDFAOyEgEMcTgDLgUXDFcO9xAuBX4AABtahIz7uvqhAAAAABJRU5ErkJggg==) center 10px repeat-y;\n}\n.fly-line i {\n  display: inline-block;\n  padding-bottom: 13px;\n  font-size: 20px;\n  color: #5488f9;\n  background-color: #fff;\n}\n.calu-box {\n  position: relative;\n}\n.calu-box a {\n  position: absolute;\n  right: 0;\n  top: 0;\n  height: 18px;\n  width: 30px;\n  line-height: 18px;\n  color: #33475B;\n  font-size: 14px;\n  border-left: 1px solid #bfc4d9;\n  text-align: center;\n}\n.calu-box .icon-arrdown {\n  top: 18px;\n  border-top: 1px solid #bfc4d9;\n}\n.ui-spec {\n  margin-top: 10px;\n  color: #7D98B6;\n  font-size: 13px;\n}\n.totalcost-box {\n  margin: 20px 0 10px 0;\n  min-height: 114px;\n  color: #32475A;\n  background-color: #EBF0F6;\n}\n.totalcost-right {\n  position: relative;\n  float: right;\n  margin-top: 10px;\n  padding-left: 30px;\n  width: 150px;\n}\n.totalcost-right label {\n  color: #32475a;\n  font-weight: bold;\n}\n.totalcost-right p {\n  line-height: 22px;\n}\n.totalcost-right .el-checkbox {\n  position: absolute;\n  left: 0;\n}\n.calu-cost {\n  margin: 12px 0;\n}\n.calu-cost .red-tip {\n  font-size: 18px;\n  font-weight: bold;\n}\n.refund-form .ui-lbl,\n.refund-form .el-form-item__label {\n  color: #33475B;\n  font-size: 14px;\n  font-weight: bold;\n}\n.refund-form .el-form-item__content {\n  position: relative;\n}\n.refund-form .el-input__inner {\n  height: 40px;\n  border-radius: 0;\n}\n.unit-input {\n  position: absolute;\n  right: 10px;\n  bottom: 0;\n  color: #33475B;\n}\n.unit-input i {\n  color: #DFE3EB;\n  margin-right: 5px;\n}\n.refund-tab .double-header,\n.price-tab .double-header {\n  border-bottom: 1px solid #dfe3eb;\n}\n.refund-tab .double-td,\n.price-tab .double-td {\n  padding-top: 30px;\n  width: 20%;\n  border: 0;\n}\n.refund-tab .double-span-item,\n.price-tab .double-span-item {\n  padding-left: 20px;\n  width: 40%;\n}\n.refund-tab .double-column,\n.price-tab .double-column {\n  border-bottom: 1px solid #dfe3eb;\n}\n.refund-tab .calu-box,\n.price-tab .calu-box {\n  margin-top: -10px;\n}\n.one-sel {\n  margin: 10px 0 20px 0;\n}\n.confirm-btn {\n  margin: 10px 0 0 20px;\n}\n.price-tab .double-header .double-td {\n  padding-top: 0;\n}\n.price-tab .double-td {\n  width: 12%;\n}\n.price-tab .double-span-item {\n  width: 40%;\n}\n.price-tab .el-input {\n  margin-top: -10px;\n  width: 60%;\n}\n.el-pagination {\n  text-align: right;\n  margin: 20px;\n}\n.el-pagination .btn-prev,\n.el-pagination .btn-next {\n  border: 1px solid #d1d5e5;\n  margin-right: 10px;\n  border-radius: 4px;\n}\n.el-pagination li,\n.el-pagination li.active + li {\n  border: 1px solid #d1d5e5;\n  margin-right: 10px;\n}\n.el-pagination .el-select .el-input input {\n  border-radius: 4px;\n  text-align: center;\n}\n.el-pagination .el-pagination__editor {\n  width: 50px!important;\n  border-radius: 4px;\n}\n.el-pager li {\n  border-radius: 4px;\n}\n.ui-tab .el-tabs__item {\n  /*margin-right: 10%;*/\n  padding: 0 150px 0 0;\n  width: 150px;\n  font-weight: bold;\n  color: #33475B;\n}\n.ui-tab .el-tabs__active-bar {\n  width: 50px!important;\n}\n.ui-tab .el-tabs__nav {\n  margin-left: 50px;\n}\n.ui-tab .el-tabs__item.is-active {\n  color: #33475B;\n}\n.ui-tab .el-tabs__header {\n  margin: 0;\n  border-bottom: 0;\n}\n.el-popover.small {\n  width: 342px!important;\n}\n.el-popover.cate-pop {\n  padding: 10px;\n}\n.double-tab .double-one > span:nth-child(1) {\n  display: inline-block;\n  width: 410px;\n}\n.double-tab .name-wrapper {\n  max-width: 100%;\n  display: inline-block;\n}\n.double-tab .name-wrapper .tit {\n  max-width: 98%;\n  width: auto;\n}\n",""])},815:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logistic-container"},[n("div",{staticClass:"search-box clearfix"},[n("div",{},[n("el-button",{staticClass:"fresh-btn",on:{click:t.fresh}},[n("i",{staticClass:"icon-fresh"})]),t._v(" "),n("div",{staticClass:"time-sel"},[n("el-select",{staticClass:"select-keyword",model:{value:t.search.time,callback:function(e){t.search.time=e},expression:"search.time"}},[n("el-option",{attrs:{value:"time",label:"支付时间"}})],1),t._v(" "),n("div",{staticClass:"select-time"},[n("hr",{staticClass:"input-split"}),t._v(" "),n("el-date-picker",{attrs:{type:"daterange",align:"center",placeholder:"开始时间 ~ 结束时间"},model:{value:t.search.period,callback:function(e){t.search.period=e},expression:"search.period"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"right-module"},[n("el-select",{attrs:{placeholder:"退款状态"},model:{value:t.search.refundTag,callback:function(e){t.search.refundTag=e},expression:"search.refundTag"}},[n("el-option",{attrs:{value:"0",label:"未退款"}}),t._v(" "),n("el-option",{attrs:{value:"1",label:"部分已退款"}}),t._v(" "),n("el-option",{attrs:{value:"2",label:"全部退款"}})],1),t._v(" "),n("el-input",{staticClass:"input-sel-search",attrs:{placeholder:"请输入搜索内容"},model:{value:t.search.keys,callback:function(e){t.search.keys=e},expression:"search.keys"}},[n("el-select",{attrs:{placeholder:"请选择"},slot:"prepend",model:{value:t.search.type,callback:function(e){t.search.type=e},expression:"search.type"}},[n("el-option",{attrs:{value:"0",label:"商品名称"}}),t._v(" "),n("el-option",{attrs:{value:"1",label:"订单编号"}})],1),t._v(" "),n("hr",{staticClass:"input-split",slot:"prepend"}),t._v(" "),n("el-button",{attrs:{icon:"search"},on:{click:t.searchForm},slot:"append"})],1)],1)]),t._v(" "),[n("el-tabs",{staticClass:"ui-tab",on:{"tab-click":t.tabSearch},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"所有状态",name:"all"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"待付款",name:"waitpay"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"待发货",name:"waitsend"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"已发货",name:"send"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"交易成功",name:"success"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"交易关闭",name:"close"}})],1)],t._v(" "),n("ul",{staticClass:"double-tab order-tab"},[t._m(0),t._v(" "),t._l(t.orders.records,function(e){return n("li",{staticClass:"clearfix"},[n("div",{staticClass:"double-th"},[t._v("订单编号："+t._s(e.orderCode)+"\n         下单时间："+t._s(t._f("time-formater-no-hour")(e.createTime))+"\n         订单来源："+t._s(e.source))]),t._v(" "),n("div",{staticClass:"double-column clearfix"},[n("div",{staticClass:"double-span-item double-td",style:{height:96*e.itemList.length+"px"}},t._l(e.itemList,function(i,a){return n("div",{staticClass:"double-item",class:{bortop:a}},[n("img",{attrs:{src:i.img+"?x-oss-process=image/resize,h_64,w_64",alt:""}}),t._v(" "),n("div",{staticClass:"double-one"},[n("el-popover",{attrs:{trigger:"hover",placement:"top","popper-class":"cate-pop"}},[n("p",[t._v(t._s(i.name))]),t._v(" "),n("span",{staticClass:"name-wrapper",slot:"reference"},[n("span",{staticClass:"tit"},[t._v(t._s(i.name))])])]),t._v(" "),n("span",[t._v("x "+t._s(i.quantity))])],1),t._v(" "),n("div",{staticClass:"double-two"},[n("span",{staticClass:"tit"},[t._v(t._s(i.specKey))]),t._v(" "),n("span",[t._v(t._s(e.amountUnit)+" "+t._s(i.price))])]),t._v(" "),t._m(1,!0)])})),t._v(" "),n("div",{staticClass:"double-td",style:{height:96*e.itemList.length+"px"}},[n("p",[t._v(t._s(e.address.name))]),n("p",[t._v(t._s(e.address.telephone))])]),t._v(" "),n("div",{staticClass:"double-td",style:{height:96*e.itemList.length+"px"}},[n("p",[t._v(t._s(e.amountUnit)+" "+t._s(e.amount))]),t._v(" "),n("p",{staticClass:"sub-tip"},[t._v("(含运费"+t._s(e.amountUnit)+" "+t._s(e.totalCost)+")")])]),t._v(" "),n("div",{staticClass:"double-td status-td",style:{height:96*e.itemList.length+"px"}},[n("p",[t._v(t._s(e.status?t.status[e.status]:t.status[0]))]),t._v(" "),n("p",[n("el-button",{attrs:{type:"text"},on:{click:function(n){t.doDetail(e.orderCode)}}},[t._v("订单详情")])],1),t._v(" "),n("p",[n("i",{staticClass:"red-tip"},[t._v(t._s(1==e.systemOrderStatus?"已冻结":""))])])]),t._v(" "),n("div",{staticClass:"double-td",style:{height:96*e.itemList.length+"px"}},[t._v(t._s(e.refundTag?t.backstatus[e.refundTag]:t.backstatus[0]))]),t._v(" "),n("div",{staticClass:"double-td",style:{height:96*e.itemList.length+"px"}},[0==e.status?n("el-button",{staticClass:"btn-trans",on:{click:function(n){t.doDetail(e.orderCode)}}},[t._v("修改价格")]):t._e(),t._v(" "),1==e.status?n("el-button",{staticClass:"btn-blue",attrs:{type:"primary"},on:{click:function(n){t.doDetail(e.orderCode)}}},[t._v("发货")]):t._e(),t._v(" "),0==e.status||1==e.status?n("el-button",{staticClass:"btn-trans",on:{click:function(n){t.doDetail(e.orderCode)}}},[t._v("关闭订单")]):t._e(),t._v(" "),2==e.status?n("el-button",{staticClass:"btn-trans",on:{click:function(n){t.doDetail(e.orderCode)}}},[t._v("修改物流")]):t._e(),t._v(" "),e.logistNum?n("el-popover",{ref:"popovers",refInFor:!0,attrs:{placement:"top-start",title:"",width:"620",trigger:"click"}},[t.logisList.length?n("div",[n("div",{staticClass:"fly-line"},[n("i",{staticClass:"icon-warn"})]),t._v(" "),n("ul",{staticClass:"logist-list"},t._l(t.logisList,function(e){return n("li",{staticClass:"logist-item"},[n("div",{staticClass:"date"},[n("label",[t._v(t._s(t._f("time-formater-no-hour")(e.date)))]),t._v(" "),n("i",[t._v(t._s(t._f("time-formater-only-hour")(e.date)))])]),t._v(" "),n("span",[t._v(t._s(e.content))])])}))]):n("div",[n("i",{staticClass:"icon-fail"}),t._v(" "),n("p",{staticClass:"no-logist"},[t._v("无法检测物流状态，请到相应物流查询网站查询物流！")])]),t._v(" "),n("div",{staticClass:"name-wrapper",slot:"reference"},[2==e.status||3==e.status||5==e.status?n("el-button",{staticClass:"btn-trans",on:{click:function(n){t.showLogist(e.logistNum)}}},[t._v("查看物流")]):t._e()],1)]):t._e()],1)])])})],2),t._v(" "),t.orders.records&&!t.orders.records.length?n("div",{staticClass:"no-data"},[n("div",{staticClass:"img"}),t._v(" "),n("div",{staticClass:"tips"},[t._v("暂无数据")])]):t._e(),t._v(" "),t.loading?n("div",{staticClass:"loading loading-circle"}):t._e(),t._v(" "),t.orders.records&&t.orders.records.length&&t.orders.totalCount>10?n("div",{staticClass:"paging-column"},[n("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper",total:t.orders.totalCount,"current-Page":t.pageIndex},on:{"current-change":t.pager}})],1):t._e()],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"double-header clearfix"},[n("div",{staticClass:"double-span-item double-td"},[t._v("订单信息")]),t._v(" "),n("div",{staticClass:"double-td"},[t._v("买家")]),t._v(" "),n("div",{staticClass:"double-td"},[t._v("实收款")]),t._v(" "),n("div",{staticClass:"double-td"},[t._v("状态")]),t._v(" "),n("div",{staticClass:"double-td"},[t._v("退款")]),t._v(" "),n("div",{staticClass:"double-td"},[t._v("操作")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"double-two"},[n("span",{staticClass:"tit"}),t._v(" "),n("span",[t._v("(单价)")])])}]},t.exports.render._withStripped=!0},902:function(t,e,n){var i=n(625);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(88)("6a301264",i,!1)}});
//# sourceMappingURL=43.2073a27391c858968311.js.map